extends layout
include ./mixins.pug

block nav
  div.bs-component
    div.navbar.navbar-default.navbar-fixed-top(roles="navigation")
      div.container-fluid(ng-controller="AuthCtrl")
   
        // Titulo
        +title('Vanessador', '#!/')
  
        // Menu
        div.collapse.navbar-collapse
          ul.nav.navbar-nav(ng-show="user === null")
            li
              a(href="#!/sobre") Sobre
            li
              a(href="https://www.github.com/lunhg/vanessador") Contribua

          ul.nav.navbar-nav(ng-show="user != null")
            li
              a(href="#!/tutorial") Tutorial 
            li
              +menudown({'id': 'cursos-menu', 'label': 'Cursos'})
                li
                  a(href="#!/{{ user.uuid }}/cursos/novo") Registrar novo curso
                li
                  a(href="#!/{{ user.uuid }}/cursos") Procure um curso
            li
              +menudown({'id': 'alunos-menu', 'label': 'Alunos'})
                li
                  a(href="#!/{{ user.uuid }}/alunos/novo") Registrar novo aluno
                li
                  a(href="#!/{{ user.uuid }}/alunos") Procure um aluno
              
              
  
          ul.nav.navbar-nav.navbar-right(ng-show="user == null")
            li
              a(href="#!/login" ng-show="user == null") Login
            li(ng-show="user === null")
              a(href="#!/signup" ng-show="user == null") Cadastre-se

          ul.nav.navbar-nav.navbar-right(ng-show="user != null")
            +menudown({'id': 'user-menu', 'label': '{{ user.displayName || user.email }}'})
              li
                a(href="#!/conta") Conta
              li
                a(ng-click="logout()") Logout


block content
  div.alert.alert-dismissible(ng-show="popup != null" class="alert-{{ popup.type }}") {{ popup.msg }}
  <ng-view></ng-view>



block scripts
  script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js")
  script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-route.min.js")
  script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-resource.min.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-app.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-auth.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-database.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-messaging.js")
  != js("index", {'data-turbolinks-track':true})
