extends layout
include ./mixins.pug

block nav
  div.bs-component
    div.navbar.navbar-default.navbar-fixed-top(roles="navigation")
      div.container-fluid(ng-controller="AuthCtrl")
   
        // Titulo
        +title('Vanessador', '#!/')
  
        // Menu
        div.collapse.navbar-collapse
          ul.nav.navbar-nav(ng-show="user === null")
            li
              a(href="#!/sobre") Sobre
            li
              a(href="https://www.github.com/lunhg/vanessador") Contribua

          ul.nav.navbar-nav(ng-show="user != null")
            li
              a(href="#!/tutorial") Tutorial 
            li
              +menudown({'id': 'cursos-menu', 'label': 'Formularios'})
                li
                  a(href="#!/formularios") Procure um curso
                li
                  a(href="#!/formularios/novo") Registrar novo curso  
            li
              +menudown({'id': 'doc-menu', 'label': 'Doc'}) 
                +menudown({'id': 'client-menu', 'label': 'Client'})
                  li 
                    a(href="/docs") Index
                  li
                    a(href="/docs/app") Angular application
                  li
                    a(href="/docs/services") Angular services
                  li
                    a(href="/docs/config") Route configurations
                  li
                    a(href="/docs/auth-ctrl") Auth controller
                  li
                    a(href="/docs/run") Run angular application
  
          ul.nav.navbar-nav.navbar-right(ng-show="user == null")
            li
              a(href="#!/login" ng-show="user == null") Login
            li(ng-show="user === null")
              a(href="#!/signup" ng-show="user == null") Cadastre-se

          ul.nav.navbar-nav.navbar-right(ng-show="user != null")
            +menudown({'id': 'user-menu', 'label': '{{ user.displayName || user.email }}'})
              li
                a(href="#!/conta") Conta
              li
                a(ng-click="logout()") Logout


block content
  div#popup.alert.alert-dismissible(ng-show="popup !== null") {{ popup }}
  <ng-view></ng-view>



block scripts
  script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js")
  script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-route.min.js")
  script(src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-resource.min.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-app.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-auth.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-database.js")
  script(src="https://www.gstatic.com/firebasejs/4.1.3/firebase-messaging.js")
  != js("index", {'data-turbolinks-track':true})
